@import "tailwindcss";
@import "@nuxt/ui";

/* Prevent pull-to-refresh and overscroll on iOS / mobile browsers.
   The app uses its own internal scroll regions; body must not scroll. */
html, body {
  overflow: hidden;
  overscroll-behavior: none;
  height: 100%;
}

:root {
  /* ── App-shell chrome ──────────────────────────────────── */
  --color-app-bar:        #0082c9;
  --color-sidebar:        color-mix(in srgb, #0082c9 12%, white);
  --color-sidebar-hover:  color-mix(in srgb, #0082c9 20%, white);
  --color-sidebar-active: #0082c9;

  /* ── Zenpire brand palette (used by NuxtUI as primary) ── */
  --color-zenpire-50:  color-mix(in srgb, #0082c9  5%, white);
  --color-zenpire-100: color-mix(in srgb, #0082c9 12%, white);
  --color-zenpire-200: color-mix(in srgb, #0082c9 25%, white);
  --color-zenpire-300: color-mix(in srgb, #0082c9 45%, white);
  --color-zenpire-400: color-mix(in srgb, #0082c9 68%, white);
  --color-zenpire-500: #0082c9;
  --color-zenpire-600: color-mix(in srgb, #0082c9 82%, black);
  --color-zenpire-700: color-mix(in srgb, #0082c9 65%, black);
  --color-zenpire-800: color-mix(in srgb, #0082c9 48%, black);
  --color-zenpire-900: color-mix(in srgb, #0082c9 32%, black);
  --color-zenpire-950: color-mix(in srgb, #0082c9 18%, black);
}

.dark {
  --color-sidebar: #0d1825;
  --color-sidebar-hover: #162133;
}

/* ── App loading splash (pure CSS, visible from first paint) ────────────────
   Three pseudo-elements cover the viewport before any JS runs:
     body::before  — blue full-screen overlay (z 9998)
     html::before  — logo circle with white ring (z 9999)
     html::after   — spinning loader below the logo (z 9999)
   The client plugin adds .splash-fading (opacity 0) then .splash-done
   (content: none) on <html> to fade and remove all three together.
   ──────────────────────────────────────────────────────────────────────── */

/* Blue overlay */
body::before {
  content: '';
  position: fixed;
  inset: 0;
  z-index: 9998;
  background: #0082c9;
  pointer-events: all;
  transition: opacity 0.35s ease;
}

/* Logo circle — inverted + screen blend renders the logo white on blue */
html::before {
  content: '';
  position: fixed;
  z-index: 9999;
  top:  calc(50% - 74px);   /* top of centred 148px group */
  left: calc(50% - 48px);
  width: 96px;
  height: 96px;
  border-radius: 50%;
  border: 2px solid rgba(255, 255, 255, 0.9);
  background-image: url('/logo.png');
  background-size: cover;
  background-position: center;
  filter: invert(1);
  mix-blend-mode: screen;
  pointer-events: none;
  transition: opacity 0.35s ease;
}

/* Spinner — 16 px below the logo */
html::after {
  content: '';
  position: fixed;
  z-index: 9999;
  top:  calc(50% + 38px);   /* 50% - 74 + 96 + 16 */
  left: calc(50% - 18px);
  width: 36px;
  height: 36px;
  border: 3px solid rgba(255, 255, 255, 0.3);
  border-top-color: #fff;
  border-radius: 50%;
  animation: splash-spin 0.8s linear infinite;
  pointer-events: none;
  transition: opacity 0.35s ease;
}

@keyframes splash-spin {
  to { transform: rotate(360deg); }
}

/* Fading: all three elements fade together */
html.splash-fading body::before,
html.splash-fading::before,
html.splash-fading::after {
  opacity: 0;
  pointer-events: none;
}

/* Done: remove pseudo-elements from the render tree */
html.splash-done body::before,
html.splash-done::before,
html.splash-done::after {
  content: none;
  display: none;
}
